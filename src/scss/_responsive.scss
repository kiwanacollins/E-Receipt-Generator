// =============================================
// Mobile Responsiveness
// Breakpoints:
//   sm: 480px  (small phones)
//   md: 700px  (tablets / large phones)
// =============================================

// --- Container ---
.app {
  width: 100%;
  max-width: 700px;
  margin: 16px auto 40px;
  padding: 0 12px;
}

// --- Invoice wrapper ---
@media (max-width: 700px) {
  .app {
    margin: 8px auto 30px;
    padding: 0 8px;
  }

  .invoice-wrapper {
    padding: 20px 16px;
  }

  // Download button repositioning
  .download-pdf {
    left: auto;
    right: 8px;
    margin-left: 0;
  }

  // --- Header: logo + title stack vertically ---
  .flex.header-row {
    flex-direction: column;
  }

  // Make all flex rows that use percentage widths stack on mobile
  // Target top-level flex rows inside invoice-wrapper
  .invoice-wrapper > div > .flex,
  .invoice-wrapper .flex.mt-40 {
    flex-wrap: wrap;
  }

  // Width overrides: on mobile, percentage columns become full-width
  .w-50,
  .w-45,
  .w-55,
  .w-60,
  .w-40,
  .w-48,
  .w-17,
  .w-18 {
    width: 100% !important;
  }

  // Restore table column widths inside product rows so they stay side-by-side
  .row.flex {
    flex-wrap: nowrap;

    .w-48 {
      width: 48% !important;
    }
    .w-17 {
      width: 17% !important;
    }
    .w-18 {
      width: 18% !important;
    }
  }

  // Table header row — keep columns side by side
  .mt-30.bg-blue.flex {
    flex-wrap: nowrap;

    .w-48 {
      width: 48% !important;
    }
    .w-17 {
      width: 17% !important;
    }
    .w-18 {
      width: 18% !important;
    }
  }

  // Totals section — keep side by side
  .bg-gray.flex .w-50 {
    width: 50% !important;
  }

  // Footer: keep address columns in a wrapping row
  .flex-1 {
    min-width: 120px;
    flex: 1 1 33%;
  }

  // Signature block — allow it to go full width
  .signature-container {
    max-width: 100% !important;
  }

  // Keep header row (logo + title) side by side on mobile
  .header-flex {
    flex-wrap: nowrap;
    align-items: flex-start;

    .w-50 {
      width: 50% !important;
    }
  }

  // Font-size adjustments for small screens
  .fs-45 {
    font-size: 18px !important;
  }

  .fs-30 {
    font-size: 20px !important;
  }

  .fs-20 {
    font-size: 14px !important;
  }

  // Reduce top margins slightly to save vertical space
  .mt-40 {
    margin-top: 24px;
  }

  .mt-30 {
    margin-top: 20px;
  }

  // Row remove button: always visible on touch (no hover)
  .row__remove {
    opacity: 1;
    right: -16px;
  }

  // Phone image upload area
  .flex .w-50.pr-10,
  .flex .w-50:last-child {
    width: 50% !important;
  }
}

// --- Very small screens (< 400px) ---
@media (max-width: 400px) {
  .invoice-wrapper {
    padding: 14px 10px;
  }

  // Table columns: compress description, keep number columns readable
  .row.flex {
    .w-48 {
      width: 44% !important;
    }
    .w-17 {
      width: 18% !important;
    }
    .w-18 {
      width: 20% !important;
    }
  }

  .mt-30.bg-blue.flex {
    .w-48 {
      width: 44% !important;
    }
    .w-17 {
      width: 18% !important;
    }
    .w-18 {
      width: 20% !important;
    }
  }

  // Footer columns stack
  .flex-1 {
    flex: 1 1 100%;
    text-align: left !important;
  }

  .flex-1 .right {
    text-align: left !important;
  }
}
